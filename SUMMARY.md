# 練習測驗頁面詞彙表同步修改總結

## 問題
「練習測驗」頁面中的詞彙表下拉選單沒有與「詞彙管理」頁面中的詞彙列表保持同步，導致自定義詞彙組無法在練習測驗中使用。

## 解決方案
我們修改了以下檔案和功能：

### 1. js/practice.js

* 修改了 `updatePracticeListOptions` 函數，使其與詞彙管理頁面使用相同的預設選項（所有單字、未學習、學習中、已掌握）
* 加入了在頁面切換到練習測驗時自動更新詞彙列表選項的功能
* 加入了對 `vocabListsUpdated` 自定義事件的監聽，當詞彙列表變更時能夠自動更新
* 優化了 `loadPracticeWords` 函數，確保它能正確載入所有類型的詞彙表，包括自定義詞彙組
* 加入了更完善的錯誤處理和日誌輸出，方便調試

### 2. js/vocabulary.js

* 在 `addNewVocabList`、`updateVocabList` 和 `deleteVocabList` 函數中添加了事件通知機制
* 在 `updateVocabListCounts` 函數中添加了事件通知機制
* 在 `addToWordList` 函數中添加了事件通知機制，當單字被添加到詞彙列表時通知練習測驗頁面

## 機制說明
當詞彙列表發生變化時（如創建新列表、編輯或刪除列表、添加單字到列表等），系統會觸發 `vocabListsUpdated` 自定義事件。練習測驗頁面監聽這個事件，當收到通知時，如果當前正處於練習測驗頁面，就會立即更新詞彙列表下拉選單。

這種事件驅動的方式確保了兩個頁面之間的詞彙列表保持同步，用戶在詞彙管理頁面中所做的任何變更都會即時反映到練習測驗頁面。

## 使用方式
用戶無需特殊操作，只需正常使用系統即可。當用戶：
1. 在詞彙管理頁面創建、編輯或刪除詞彙列表後
2. 切換到練習測驗頁面時

系統會自動更新練習測驗頁面的詞彙表下拉選單，確保用戶可以選擇所有可用的詞彙列表進行練習。
